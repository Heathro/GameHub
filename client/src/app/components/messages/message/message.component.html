<div *ngIf="message">

    <div class="d-flex mx-4" *ngIf="message.senderUsername !== currentUser">
        <img *ngIf="avatarRequired"
            class="message-avatar"
            src="{{message.senderAvatar.url || './assets/poster.png'}}"
            alt="{{message.senderUsername}}"
        >
        <div class="avatar-placeholder" *ngIf="!avatarRequired"></div>
        <h6 class="d-inline ms-3 mt-2 message-text-recipient" *ngIf="avatarRequired">{{message.content}}</h6>
        <h6 class="d-inline ms-3 message-text-recipient" *ngIf="!avatarRequired">{{message.content}}</h6>
        <div class="col-4"></div>
    </div>

    <div class="d-flex mx-4 flex-row-reverse" *ngIf="message.senderUsername === currentUser">
        <img *ngIf="avatarRequired"
            class="message-avatar"
            src="{{message.senderAvatar.url || './assets/poster.png'}}"
            alt="{{message.senderUsername}}"
        >
        <div class="avatar-placeholder" *ngIf="!avatarRequired"></div>
        <h6 class="d-inline me-3 mt-2 message-text-currentuser" *ngIf="avatarRequired">{{message.content}}</h6>        
        <h6 class="d-inline me-3 message-text-currentuser" *ngIf="!avatarRequired">{{message.content}}</h6>
        <div class="col-4"></div>
    </div>

    <div class="d-flex" *ngIf="timeRequired && message.senderUsername !== currentUser">
        <h6 class="text-muted text-right ms-4 message-timestamp">
            {{message.messageSent | date:getDateFormat()}}
        </h6>
    </div>    

    <div class="d-flex flex-row-reverse" *ngIf="timeRequired && message.senderUsername === currentUser">
        <h6>
            <i class="bi bi-check me-4 message-not-read" *ngIf="!message.messageRead"></i>
            <i class="bi bi-check me-4 message-read" *ngIf="message.messageRead"></i>
        </h6>
        <h6 class="text-muted text-right me-1 message-timestamp">
            {{message.messageSent | date:getDateFormat()}}
        </h6>
    </div> 

</div>
